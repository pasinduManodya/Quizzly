<!DOCTYPE html>
<html>
<head>
    <title>Clear Cache Tool</title>
</head>
<body>
    <h1>Clear Browser Cache & Service Workers</h1>
    <button onclick="clearEverything()">Clear All Cache & Service Workers</button>
    <div id="result"></div>
    
    <script>
        async function clearEverything() {
            const result = document.getElementById('result');
            result.innerHTML = '<p>Clearing...</p>';
            
            try {
                // Unregister all service workers
                if ('serviceWorker' in navigator) {
                    const registrations = await navigator.serviceWorker.getRegistrations();
                    for (let registration of registrations) {
                        await registration.unregister();
                        console.log('Service worker unregistered:', registration);
                    }
                    result.innerHTML += `<p>✅ Unregistered ${registrations.length} service worker(s)</p>`;
                }
                
                // Clear all caches
                if ('caches' in window) {
                    const cacheNames = await caches.keys();
                    for (let cacheName of cacheNames) {
                        await caches.delete(cacheName);
                        console.log('Cache deleted:', cacheName);
                    }
                    result.innerHTML += `<p>✅ Deleted ${cacheNames.length} cache(s)</p>`;
                }
                
                // Clear localStorage
                localStorage.clear();
                result.innerHTML += '<p>✅ Cleared localStorage</p>';
                
                // Clear sessionStorage
                sessionStorage.clear();
                result.innerHTML += '<p>✅ Cleared sessionStorage</p>';
                
                result.innerHTML += '<h2>✅ All cleared! Now:</h2><ol><li>Close this tab</li><li>Open Developer Tools (F12)</li><li>Application tab → Clear Storage → Clear site data</li><li>Hard refresh: Ctrl + Shift + R</li></ol>';
                
            } catch (error) {
                result.innerHTML += `<p>❌ Error: ${error.message}</p>`;
            }
        }
    </script>
</body>
</html>

